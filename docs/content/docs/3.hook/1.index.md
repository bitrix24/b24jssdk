---
title: B24Hook
description: 'Class for secure interaction with the Bitrix24 REST API from server-side code. Contains methods for creating authorized requests via webhooks.'
navigation:
  title: B24Hook
links:
  - label: B24Hook
    iconName: GitHubIcon
    to: https://github.com/bitrix24/b24jssdk/blob/main/packages/jssdk/src/hook/controller.ts
  - label: TypeB24
    iconName: GitHubIcon
    to: https://github.com/bitrix24/b24jssdk/blob/main/packages/jssdk/src/types/b24.ts
  - label: AuthHookManager
    iconName: GitHubIcon
    to: https://github.com/bitrix24/b24jssdk/blob/main/packages/jssdk/src/hook/auth.ts
---

::caution{title="⚠️ CAUTION: SECURITY"}
The `B24Hook` object is intended **exclusively for use on the server**. A webhook contains a secret access key, which **MUST NOT** be used in client-side code (browser, mobile app). For the client side, use [`B24Frame`](/docs/frame/).
::

## Quick Overview

B24Hook is the main SDK class for working with the Bitrix24 REST API via webhooks.
A webhook is a special URL that has authentication data (user ID and secret key) embedded in it.
This allows making API requests without additional authorization.

## Creating a B24Hook Instance

There are two ways to create a B24Hook instance:

### From a Full Webhook URL

Use this method (recommended approach) if you have a ready-made webhook URL generated in Bitrix24.

```ts
import { B24Hook } from '@bitrix24/b24jssdk'

// Creating an instance from a full webhook URL
const $b24 = B24Hook.fromWebhookUrl('https://your_domain.bitrix24.com/rest/1/webhook_code/')
```

Method: `static fromWebhookUrl(url: string): B24Hook`{lang="ts-type"}

| Parameter | Type | Description |
|-----------|------|-------------|
| `url` | `string`{lang="ts-type"} | Full webhook URL. Example: `https://company.bitrix24.com/rest/1/k32t88gf3azpmwv3/` |

When to use:

- For rapid prototyping
- When the webhook URL is stored in server environment variables

### From Parameters

Use this method if webhook parameters are stored separately.

```ts
import { B24Hook } from '@bitrix24/b24jssdk'

// Creating an instance from individual parameters
const $b24 = new B24Hook({
  b24Url: 'https://your_domain.bitrix24.com',
  userId: 1,
  secret: 'webhook_code'
})
```

Constructor: `constructor(b24HookParams: B24HookParams)`{lang="ts-type"}

B24HookParams is an interface with the following fields:

| Parameter | Type | Description |
|-----------|------|-------------|
| `b24Url` | `string`{lang="ts-type"} | Bitrix24 portal URL. Example: `https://company.bitrix24.com` |
| `userId` | `number`{lang="ts-type"} | ID of the user for whom the webhook was created |
| `secret` | `string`{lang="ts-type"} | Webhook secret key |

When to use:

- When webhook parameters are stored in different environment variables

## Usage Example

::component-example
---
border: false
preview: true
collapse: false
name: 'hook-test-connection-example'
filename: 'TestConnection'
lang: 'ts'
---
::

## Recommendations for Storing Webhook Data

```ts
// ✅ Storing in server environment variables
const $b24 = B24Hook.fromWebhookUrl(process.env.BITRIX24_WEBHOOK_URL!);


// ❌ NEVER store a webhook in client code
// ❌ NEVER commit a webhook to Git
const $b24 = B24Hook.fromWebhookUrl(
  'https://company.bitrix24.com/rest/1/abcdef123456/'
); // DATA LEAK!
```

## What to Do Next

After creating a B24Hook instance, you can use the following methods:

Core API methods:

- [callMethod()](/docs/hook/methods/call-method/) — Call any REST API method
- [callBatch()](/docs/hook/methods/call-batch/) — Batch execution of up to 50 commands

Working with lists:

- [callListMethod()](/docs/hook/methods/call-list-method/) — Automatic retrieval of all list pages
- [fetchListMethod()](/docs/hook/methods/fetch-list-method/) — Incremental loading of large lists via generator

Advanced scenarios:

- [callBatchByChunk()](/docs/hook/methods/call-batch-by-chunk/) — Batch execution of any number of commands with automatic chunking

## FAQ

::accordion

:::accordion-item{label="Where can I get a webhook URL?"}
Detailed information about [WebHook](https://apidocs.bitrix24.com/local-integrations/local-webhooks.html#vhodyashij-vebhuk) is available in the Rest Api documentation
:::

:::accordion-item{label="Can I use one instance for the entire application?"}
Yes, create one instance when the application starts and reuse it. This improves performance.
:::

:::accordion-item{label="What to do in case of an 'Access denied' error?"}
Check the following:

- Check settings, the webhook might have been deleted.
- Make sure the user has the necessary permissions.
- Verify the correctness of the URL or parameters.

:::

::
