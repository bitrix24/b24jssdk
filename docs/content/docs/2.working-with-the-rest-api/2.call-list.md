---
title: B24Hook.callFastListMethod
description: 'Use `B24Hook.callFastListMethod()` to quickly fetch all list items from the Bitrix24 REST API. The method automatically performs all necessary requests to retrieve the complete dataset using an optimized approach that does not count the total number of items, significantly speeding up the process when working with large data volumes. Works only in server environment.'
category: 'actions'
navigation:
  title: CallList
links:
  - label: B24Hook
    iconName: GitHubIcon
    to: https://github.com/bitrix24/b24jssdk/blob/main/packages/jssdk/src/hook/controller.ts
  - label: TypeB24
    iconName: GitHubIcon
    to: https://github.com/bitrix24/b24jssdk/blob/main/packages/jssdk/src/types/b24.ts
---

::caution{title="‚ö†Ô∏è CAUTION: SECURITY"}
The `B24Hook` object is intended **exclusively for use on the server**.

- A webhook contains a secret access key, which **MUST NOT** be used in client-side code (browser, mobile app).
- For the client side, use [`B24Frame`](/docs/frame/).
::

::note{title="üìù NOTE: The `B24Hook.callListMethod()` Method is REPLACED"}
The `B24Hook.callListMethod()` method is deprecated. Use the `B24Hook.callFastListMethod()` method instead.
::

## Quick Overview

Use `callFastListMethod`{lang="ts-type"} to quickly fetch all data from methods that return lists. The method uses an optimized approach without counting the total number of items, which significantly speeds up request execution when working with large data volumes.

The method returns a `Promise` that resolves to a [`Result`{lang="ts-type"}](/docs/core/result/) object containing the complete array of retrieved data.

```ts
// Basic usage
import { B24Hook } from '@bitrix24/b24jssdk'

const $b24 = B24Hook.fromWebhookUrl('https://your_domain.bitrix24.com/rest/1/webhook_code/')

const response = await $b24.callFastListMethod('crm.item.list', {
  entityTypeId: 2, // Entity type ID (e.g., 2 for Company)
  select: ['id', 'title']
}, 'id', 'items')
```

## Method Signature

```ts-type
callFastListMethod<T = unknown>(
  method: string,
  params?: {
    order?: any
    filter?: any
    [key: string]: any
  },
  idKey?: string,
  customKeyForResult?: string | null
): Promise<Result<T[]>>
```

### Parameters

| Parameter | Type | Required | Description |
|-----------|------|----------|-------------|
| **`method`** | `string`{lang="ts-type"} | Yes | The name of the REST API method to call (e.g., `crm.item.list`). |
| **`params`** | `object`{lang="ts-type"} | No | An object with parameters to pass to the API method. Can contain `order`, `filter`, and other valid parameters. **Important:** Do not pass the `start` parameter ‚Äî the method manages it automatically. |
| **`idKey`** | `string`{lang="ts-type"} | No |  **ID field name.** Specifies the field used for filtering during optimized pagination. Default is `'ID'`. Use `'id'` (lowercase) if the API method returns IDs in that format. |
| **`customKeyForResult`** | `string`{lang="ts-type"} | No | **Custom key for data extraction.** If the API method returns the result not in the main `result` field but in a nested one (e.g., `result.tasks`), specify the key here (e.g., `'tasks'`). Default is `null` (data is taken from the root of `result`). |

### Return Value

`Promise<Result<T[]>>`{lang="ts-type"} ‚Äî a promise that resolves to a [`Result`](/docs/core/result/) object containing the complete array of items of type `T`. This object provides:

* `.getData(): T[]`{lang="ts-type"} ‚Äî returns the complete array of all retrieved data.
* `.isSuccess: boolean`{lang="ts-type"} ‚Äî a flag indicating the successful execution of all requests.
* `.getErrorMessages(): string[]`{lang="ts-type"} ‚Äî an array of error messages.

## Key Concepts

Optimized pagination without counting

`callFastListMethod` uses a special optimization for quickly retrieving large data volumes:

1. **Disabling total count:** Uses the `start: -1` parameter, which disables the calculation of the total number of items, significantly speeding up request execution.
2. **Filtering by ID:** After receiving each page of data, the method updates the filter, adding a condition `'>ID': lastId` to get the next batch of data.
3. **Automatic completion:** The process continues until an empty response is received.

### Important Limitations

- **Mandatory sorting by ID:** The method requires that the sorting order by the ID field be specified in the parameters (e.g., `order: { id: 'asc' }`). This is necessary for the filtering to work correctly.

### Error Handling

Always check the result using `isSuccess` and handle errors.

```ts
const response = await $b24.callFastListMethod('some.method', {}, 'id', 'items')

if (!response.isSuccess) {
  // Handling API error
  console.error(new Error(`API Error: ${response.getErrorMessages().join('; ')}`))
  return
}

// Working with a successful result
const data = response.getData()
```

## Examples

### Getting all companies with filtering

::component-example
---
border: false
preview: false
collapse: false
name: 'hook-call-fast-list-method-getting-all-crm-items-with-filtering-example'
filename: 'AllCrmItems'
lang: 'ts'
---
::

### Retrieving all deals with a specific stage and stage change date

::component-example
---
border: false
preview: false
collapse: false
name: 'hook-call-fast-list-method-getting-all-crm-deals-with-specific-stage-and-stage-change-date-example'
filename: 'AllDealsByStage'
lang: 'ts'
---
::

### Getting all tasks and grouping them by responsible person

::component-example
---
border: false
preview: false
collapse: false
name: 'hook-call-fast-list-method-getting-all-tasks-and-grouping-them-by-responsible-person-example'
filename: 'AllTasks'
lang: 'ts'
---
::

## Alternatives and Recommendations

- **For step-by-step streaming processing of very large lists:** Use [`fetchListMethod`](/docs/hook/methods/fetch-list-method/). Returns an async generator that yields data page by page, allowing processing to start before the entire list is loaded and saving memory.
- **For batch operations:** Use [`callBatch`](/docs/hook/methods/call-batch/) to execute up to 50 commands in a single request.
- **For working with the legacy `callListMethod`:** Migrate to `callFastListMethod`, as it is more optimized and the recommended replacement.
- **When you need the total item count:** Use the regular [`callMethod`](/docs/hook/methods/call-method/) with manual pagination, as `callFastListMethod` does not count the total.
- **On the client (browser):** Use the built-in [`B24Frame`](/docs/frame/) object instead of `B24Hook`.

## References

* **[Result](/docs/core/result/)** ‚Äî Documentation for the result object.
* **[Official Bitrix24 REST API Documentation](https://apidocs.bitrix24.com/)** ‚Äî Reference for all available methods.
* **[Working with Large Volumes of Data](https://apidocs.bitrix24.com/settings/performance/huge-data.html)** ‚Äî Recommendations for optimizing code to retrieve large data.
