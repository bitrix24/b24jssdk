---
title: BatchV2.make
description: 'Method for executing batch requests to Bitrix24 REST API version 2. Allows executing up to 50 commands in a single API call.'
category: 'actions'
restApiVersion: 'rest-api-ver2'
navigation.title: Batch
links:
  - label: BatchV2
    iconName: GitHubIcon
    to: https://github.com/bitrix24/b24jssdk/blob/main/packages/jssdk/src/core/actions/v2/batch.ts
  - label: AjaxResult
    iconName: GitHubIcon
    to: https://github.com/bitrix24/b24jssdk/blob/main/packages/jssdk/src/core/http/ajax-result.ts
  - label: AjaxError
    iconName: GitHubIcon
    to: https://github.com/bitrix24/b24jssdk/blob/main/packages/jssdk/src/core/http/ajax-error.ts
  - label: SdkError
    iconName: GitHubIcon
    to: https://github.com/bitrix24/b24jssdk/blob/main/packages/jssdk/src/core/sdk-error.ts
---

::warning
We are still updating this page. Some data may be missing here — we will complete it shortly.
::

## Overview

Use `BatchV2.make()`{lang="ts-type"} to execute up to 50 REST API commands in a single request. This is especially useful when you need to retrieve or update large amounts of data while minimizing network requests and adhering to REST API limits.

```ts
// Basic usage
import { EnumCrmEntityTypeId } from '@bitrix24/b24jssdk'

const response = await $b24.actions.v2.batch.make({
  calls: [
    ['crm.item.get', { entityTypeId: EnumCrmEntityTypeId.contact, id: 1 }],
    ['crm.item.get', { entityTypeId: EnumCrmEntityTypeId.contact, id: 2 }]
  ],
  options: {
    isHaltOnError: true,
    returnAjaxResult: true,
    requestId: 'unique-request-id'
  }
})
```

## Method Signature

```ts-type
make<T = unknown>(
  options: ActionBatchV2
): Promise<CallBatchResult<T>>
```

### Parameters

The `options` object contains the following properties:

| Parameter | Type | Required | Description |
|----|----|----|----|
| **`calls`** | `BatchCommandsArrayUniversal \| BatchCommandsObjectUniversal \| BatchNamedCommandsUniversal`{lang="ts-type"} | Yes | Commands to execute in the batch. Supports several [formats](#command-formats-optionscalls). |
| **`options`** | `IB24BatchOptions`{lang="ts-type"} | No | [Additional options](#batch-request-options-optionsoptions) for batch request execution. |

### Command Formats (`options.calls`)

#### 1. Array of tuples (`BatchCommandsArrayUniversal`)
```ts
calls: [
  ['method1', params1],
  ['method2', params2],
  // ...
]
```

#### 2. Array of objects (`BatchCommandsObjectUniversal`)
```ts
calls: [
  { method: 'method1', params: params1 },
  { method: 'method2', params: params2 },
  // ...
]
```

#### 3. Object with named commands (`BatchNamedCommandsUniversal`)
```ts
calls: {
  command1: { method: 'method1', params: params1 },
  command2: ['method2', params2],
  // ...
}
```

### Batch Request Options (`options.options`)

| Option | Type | Default | Description |
|----|----|----|----|
| **`isHaltOnError`** | `boolean`{lang="ts-type"} | `true` | Whether to stop execution on the first error. |
| **`returnAjaxResult`** | `boolean`{lang="ts-type"} | `false` | Whether to return an `AjaxResult` object instead of data. |
| **`requestId`** | `string`{lang="ts-type"} | — | Unique request identifier for tracking. Used for request deduplication and debugging. |

### Return Value

`Promise<CallBatchResult<T>>`{lang="ts-type"} — a promise that resolves to a `CallBatchResult<T>` object.

The result structure depends on the input data format:

- **For array of commands**: array of results in the same order.
- **For named commands**: object with keys corresponding to command names.

## Error Handling

Always check the result using `isSuccess` and handle errors:

```ts
const response = await $b24.actions.v2.batch.make({
  calls: [
    { method: 'crm.item.get', params: { entityTypeId: EnumCrmEntityTypeId.contact, id: 1 } },
    { method: 'crm.item.get', params: { entityTypeId: EnumCrmEntityTypeId.contact, id: 2 } }
  ],
  options: {
    isHaltOnError: true,
    returnAjaxResult: true,
    requestId: 'unique-request-id'
  }
})

if (!response.isSuccess) {
  // Handling error
  console.error(new Error(`Error: ${response.getErrorMessages().join('; ')}`))
  return
}

// Working with a successful result
const data = response.getData()
```

## Examples

### Getting Multiple CRM Companies

```ts [BatchCrmItems.ts]
import type { AjaxResult } from '@bitrix24/b24jssdk'
import { B24Hook, EnumCrmEntityTypeId, LoggerFactory } from '@bitrix24/b24jssdk'

type Company = {
  id: number
  title: string
  [key: string]: any
}

const devMode = typeof import.meta !== 'undefined' && (globalThis._importMeta_.env?.DEV || false)
const $logger = LoggerFactory.createForBrowser('Example:batchCrmItems', devMode)
const $b24 = B24Hook.fromWebhookUrl('https://your_domain.bitrix24.com/rest/1/webhook_code/')

async function getMultipleItems(itemIds: number[], requestId: string): Promise<Company[]> {
  if (itemId.length < 1 || itemId.length > 50) {
    throw new SdkError({
      code: 'MY_APP_GET_PROBLEM'
      description: `The number of elements must be between 1 and 50`,
      status: 404
    })
  }

  const calls = itemIds.map(id => [
    'crm.item.get',
    {
      entityTypeId: EnumCrmEntityTypeId.company,
      id
    }
  ])
  
  const response = await $b24.actions.v2.batch.make<{ item: Company }>({
    calls,
    options: {
      isHaltOnError: true,
      returnAjaxResult: true,
      requestId
    }
  })
  
  if (!response.isSuccess) {
    throw new Error(`Problem: ${response.getErrorMessages().join('; ')}`)
  }
  
  const resultData = (response as Result<AjaxResult<{ item: Company }>[]>).getData()
  const results: Company[] = []
  resultData.forEach((resultRow, index) => {
    if (resultRow.isSuccess) {
      results.push(resultRow.getData()!.result.item)
    }
  })

  return results
}

// Usage
const requestId = 'batch/crm.item.get'
try {
  const itemIds = [1, 3, 5]
  const items = await getMultipleItems(itemIds, requestId)
  
  $logger.info(`Retrieved ${items.length} items`, {
    expected: itemIds.length,
    retrieved: items.length,
    items: items.map(c => ({ id: c.id, title: c.title }))
  })
} catch (error) {
  if (error instanceof AjaxError) {
    $logger.critical(error.message, { requestId, code: error.code })
  } else {
    $logger.alert('Problem', { requestId, error })
  }
}
```

## Alternatives and Recommendations

* **For sequential requests**: Use [`Call`](/docs/working-with-the-rest-api/call-rest-api-ver2/) for single calls.
* **For working with lists**: Use [`CallList`](/docs/working-with-the-rest-api/call-list-rest-api-ver2/) for retrieving large volumes of data.
* **For step-by-step processing**: Use [`FetchList`](/docs/working-with-the-rest-api/fetch-list-rest-api-ver2/) for processing data as it arrives.
* **To run more commands (more than 50)**: Use [`BatchByChunk`](/docs/working-with-the-rest-api/batch-by-chunk-rest-api-ver2/), which automatically splits commands into chunks of 50.
* **On the client-side (browser):** Use the built-in [`B24Frame`](/docs/getting-started/installation/vue/#init) object.
