---
title: B24Hook.fetchListMethod()
description: 'Use B24Hook.fetchListMethod() to @todo.'
navigation:
  title: fetchListMethod
links:
  - label: B24Hook
    iconName: GitHubIcon
    to: https://github.com/bitrix24/b24jssdk/blob/main/packages/jssdk/src/hook/controller.ts
  - label: TypeB24
    iconName: GitHubIcon
    to: https://github.com/bitrix24/b24jssdk/blob/main/packages/jssdk/src/types/b24.ts
  - label: LoggerBrowser
    iconName: GitHubIcon
    to: https://github.com/bitrix24/b24jssdk/blob/main/packages/jssdk/src/logger/browser.ts
---

::warning{title="üìù NOTE: PAGE STATUS"}
This page is under development. Some details may be clarified later.
::

::caution{title="‚ö†Ô∏è CAUTION: SECURITY"}
The `B24Hook` object is intended **exclusively for use on the server**.

- A webhook contains a secret access key, which **MUST NOT** be used in client-side code (browser, mobile app).
- For the client side, use [`B24Frame`](/docs/frame/).
::

## Quick Overview

To save memory use `fetchListMethod`{lang="ts-type"} ‚Äî the method returns an asynchronous generator for stepping through large lists. Not count the total number.
The method returns a `AsyncGenerator` with the response data.

```ts
// Basic usage
import { B24Hook } from '@bitrix24/b24jssdk'

const $b24 = B24Hook.fromWebhookUrl('https://your_domain.bitrix24.com/rest/1/webhook_code/')

const response = await $b24.fetchListMethod('method.api', {parameters}, 'id', 'items')
```

## Method Signature

```ts-type
fetchListMethod<T = unknown>(
  method: string,
  params: {
    order?: any
    filter?: any
    [key: string]: any
  },
  idKey?: string,
  customKeyForResult?: string | null
): AsyncGenerator<T[]>
```

### Parameters

| Parameter | Type | Required | Description |
|-----------|------|----------|-------------|
| **`method`** | `string`{lang="ts-type"} | Yes | Name of the REST API method to call (e.g. `crm.item.get`). |
| **`params`** | `object`{lang="ts-type"} | No | Object with parameters to pass to the API method. |
| **`idKey`** | `string`{lang="ts-type"} | No | Entity `ID` field name (e.g. `ID`, `id`). Default `ID`. |
| **`customKeyForResult`** | `string`{lang="ts-type"} | No | Custom field indicating that the result will be a grouping key (e.g. `list`, `deals`, `tasks`). |

### Return Value

`AsyncGenerator<T[]>`{lang="ts-type"} ‚Äî returns the API response.

## Key Concepts

**Retrieving all data without pagination:** Set `start: -1` for efficient export of large data volumes. This disables the total count calculation, significantly speeding up the process.

* We will still receive 50 records per request.
* The idea is to change the filter condition on the ID field (`'>id': lastId`) and continue calling the request until an empty response is received.

### Error Handling

Always check the result using `isSuccess` and handle errors.

```ts
@todo
```

## Examples

### Getting Lage Data without Pagination

::component-example
---
border: false
preview: true
collapse: false
name: 'hook-fetch-list-method-crm-item-list-example'
filename: 'FetchCrmItemListWithoutPagination'
lang: 'ts'
---
::

## Alternatives and Recommendations

* **For batch operations:** Use [`callBatch`](/docs/hook/methods/call-batch/) to execute up to 50 commands in a single request.
* **On the client (browser):** Use the built-in [`B24Frame`](/docs/frame/) object instead of `B24Hook`.

## References

* **[Official Bitrix24 REST API Documentation](https://apidocs.bitrix24.com/)** ‚Äî Reference for all available methods.
* **[Working with Large Volumes of Data](https://apidocs.bitrix24.com/settings/performance/huge-data.html)** ‚Äî Recommendations for optimizing code to retrieve large data (using `start=-1`).
